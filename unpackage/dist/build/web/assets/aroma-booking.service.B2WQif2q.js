import{S as e}from"./storage.service.Bt6PQ2bo.js";const a=[{id:"salon-1",title:"壮乡草本香氛调配体验",description:"学习壮族传统草本香氛调配技艺，亲手制作专属香氛产品",theme:"草本调香",date:"2026-02-15",time:"14:00",location:"南宁市青秀区民族大道88号香愈馆",availableSlots:15,image:"/static/salons/herbal.jpg"},{id:"salon-2",title:"精油芳疗放松沙龙",description:"体验壮族特色精油芳疗，学习精油使用方法与功效",theme:"精油芳疗",date:"2026-02-22",time:"10:00",location:"南宁市西乡塘区大学路100号疗愈中心",availableSlots:20,image:"/static/salons/essential-oil.jpg"},{id:"salon-3",title:"香薰蜡烛DIY工坊",description:"亲手制作壮族特色香薰蜡烛，感受香氛疗愈的魅力",theme:"蜡烛制作",date:"2026-03-01",time:"15:00",location:"南宁市江南区星光大道66号创意工坊",availableSlots:12,image:"/static/salons/candle.jpg"},{id:"salon-4",title:"壮乡香包香囊制作",description:"学习传统香包香囊制作工艺，了解壮族香文化历史",theme:"香包制作",date:"2026-03-15",time:"09:30",location:"广西民族博物馆手工体验区",availableSlots:25,image:"/static/salons/sachet.jpg"}];function t(e){if(!e)return!1;if("pending"!==e.status&&"confirmed"!==e.status)return!1;return(new Date(`${e.salonDate}T${e.salonTime}`)-new Date)/36e5>=24}const o={getSalons:async function(){return a},createAromaBooking:async function(a,t,o){try{const n=(new Date).toISOString(),s={id:Date.now().toString(36)+Math.random().toString(36).substr(2,9),salonId:a,salonTitle:t.title,salonDate:t.date,salonTime:t.time,salonLocation:t.location,formData:{name:o.name,phone:o.phone,participants:o.participants||1,remark:o.remark||""},status:"pending",createdAt:n,updatedAt:n};return await e.saveAromaBooking(s),{success:!0,bookingId:s.id,message:"预约成功"}}catch(n){return console.error("Failed to create aroma booking:",n),{success:!1,message:"预约失败，请重试"}}},cancelAromaBooking:async function(a){try{const o=await e.getAromaBookingById(a);return o?t(o)?(await e.updateAromaBooking(a,{status:"cancelled"}),{success:!0,message:"取消成功"}):{success:!1,message:"距离活动开始不足24小时，无法取消"}:{success:!1,message:"预约记录不存在"}}catch(o){return console.error("Failed to cancel aroma booking:",o),{success:!1,message:"取消失败，请重试"}}},canCancelAromaBooking:t,getUserAromaBookings:async function(){try{return(await e.getAromaBookings()).sort(((e,a)=>new Date(`${e.salonDate}T${e.salonTime}`)-new Date(`${a.salonDate}T${a.salonTime}`)))}catch(a){return console.error("Failed to get user aroma bookings:",a),[]}},getAromaBookingDetail:async function(a){return e.getAromaBookingById(a)},validateAromaBookingForm:function(e){const a=[];return e.name&&e.name.trim()||a.push({field:"name",message:"请输入姓名"}),e.phone&&e.phone.trim()?/^1[3-9]\d{9}$/.test(e.phone)||a.push({field:"phone",message:"请输入正确的手机号码"}):a.push({field:"phone",message:"请输入手机号"}),{valid:0===a.length,errors:a}}};export{o as A};

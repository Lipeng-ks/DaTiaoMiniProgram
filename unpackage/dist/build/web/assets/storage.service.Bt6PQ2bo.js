import{B as o,C as n,D as t}from"./index-CUhQkSZ9.js";const r="sound_healing_bookings";function e(){try{const o=n(r);return o?JSON.parse(o):[]}catch(o){return console.error("Failed to get bookings from storage:",o),[]}}function i(){try{const o=n("art_healing_bookings");return o?JSON.parse(o):[]}catch(o){return console.error("Failed to get art bookings from storage:",o),[]}}function c(){try{const o=n("aroma_healing_bookings");return o?JSON.parse(o):[]}catch(o){return console.error("Failed to get aroma bookings from storage:",o),[]}}function s(){try{const o=n("food_healing_bookings");return o?JSON.parse(o):[]}catch(o){return console.error("Failed to get food bookings from storage:",o),[]}}const a={saveBooking:function(n){return new Promise(((t,i)=>{try{const i=e();i.push(n),o(r,JSON.stringify(i)),t()}catch(c){i(c)}}))},getBookings:function(){return new Promise(((o,n)=>{try{o(e())}catch(t){n(t)}}))},getBookingsSync:e,updateBooking:function(n,t){return new Promise(((i,c)=>{try{const s=e(),a=s.findIndex((o=>o.id===n));if(-1===a)return void c(new Error("Booking not found"));s[a]={...s[a],...t,updatedAt:(new Date).toISOString()},o(r,JSON.stringify(s)),i()}catch(s){c(s)}}))},deleteBooking:function(n){return new Promise(((t,i)=>{try{const i=e().filter((o=>o.id!==n));o(r,JSON.stringify(i)),t()}catch(c){i(c)}}))},getBookingById:function(o){return new Promise(((n,t)=>{try{const t=e();n(t.find((n=>n.id===o))||null)}catch(r){t(r)}}))},clearBookings:function(){return new Promise(((o,n)=>{try{t(r),o()}catch(e){n(e)}}))},saveArtBooking:function(n){return new Promise(((t,r)=>{try{const r=i();r.push(n),o("art_healing_bookings",JSON.stringify(r)),t()}catch(e){r(e)}}))},getArtBookings:function(){return new Promise(((o,n)=>{try{o(i())}catch(t){n(t)}}))},getArtBookingsSync:i,updateArtBooking:function(n,t){return new Promise(((r,e)=>{try{const c=i(),s=c.findIndex((o=>o.id===n));if(-1===s)return void e(new Error("Art booking not found"));c[s]={...c[s],...t,updatedAt:(new Date).toISOString()},o("art_healing_bookings",JSON.stringify(c)),r()}catch(c){e(c)}}))},deleteArtBooking:function(n){return new Promise(((t,r)=>{try{const r=i().filter((o=>o.id!==n));o("art_healing_bookings",JSON.stringify(r)),t()}catch(e){r(e)}}))},getArtBookingById:function(o){return new Promise(((n,t)=>{try{const t=i();n(t.find((n=>n.id===o))||null)}catch(r){t(r)}}))},clearArtBookings:function(){return new Promise(((o,n)=>{try{t("art_healing_bookings"),o()}catch(r){n(r)}}))},saveAromaBooking:function(n){return new Promise(((t,r)=>{try{const r=c();r.push(n),o("aroma_healing_bookings",JSON.stringify(r)),t()}catch(e){r(e)}}))},getAromaBookings:function(){return new Promise(((o,n)=>{try{o(c())}catch(t){n(t)}}))},getAromaBookingsSync:c,updateAromaBooking:function(n,t){return new Promise(((r,e)=>{try{const i=c(),s=i.findIndex((o=>o.id===n));if(-1===s)return void e(new Error("Aroma booking not found"));i[s]={...i[s],...t,updatedAt:(new Date).toISOString()},o("aroma_healing_bookings",JSON.stringify(i)),r()}catch(i){e(i)}}))},deleteAromaBooking:function(n){return new Promise(((t,r)=>{try{const r=c().filter((o=>o.id!==n));o("aroma_healing_bookings",JSON.stringify(r)),t()}catch(e){r(e)}}))},getAromaBookingById:function(o){return new Promise(((n,t)=>{try{const t=c();n(t.find((n=>n.id===o))||null)}catch(r){t(r)}}))},clearAromaBookings:function(){return new Promise(((o,n)=>{try{t("aroma_healing_bookings"),o()}catch(r){n(r)}}))},saveFoodBooking:function(n){return new Promise(((t,r)=>{try{const r=s();r.push(n),o("food_healing_bookings",JSON.stringify(r)),t()}catch(e){r(e)}}))},getFoodBookings:function(){return new Promise(((o,n)=>{try{o(s())}catch(t){n(t)}}))},getFoodBookingsSync:s,updateFoodBooking:function(n,t){return new Promise(((r,e)=>{try{const i=s(),c=i.findIndex((o=>o.id===n));if(-1===c)return void e(new Error("Food booking not found"));i[c]={...i[c],...t,updatedAt:(new Date).toISOString()},o("food_healing_bookings",JSON.stringify(i)),r()}catch(i){e(i)}}))},deleteFoodBooking:function(n){return new Promise(((t,r)=>{try{const r=s().filter((o=>o.id!==n));o("food_healing_bookings",JSON.stringify(r)),t()}catch(e){r(e)}}))},getFoodBookingById:function(o){return new Promise(((n,t)=>{try{const t=s();n(t.find((n=>n.id===o))||null)}catch(r){t(r)}}))},clearFoodBookings:function(){return new Promise(((o,n)=>{try{t("food_healing_bookings"),o()}catch(r){n(r)}}))}};export{a as S};

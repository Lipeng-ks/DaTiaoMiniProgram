import{s as e,n as t,c as a,w as s,i as o,o as l,a as i,b as n,e as c,r as d,F as r,f,q as u,t as g,h as _}from"./index-BDtgVNeI.js";import{F as p}from"./food-booking.service.2lE7TaX9.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./storage.service.D1zc2f4B.js";const m=k({data:()=>({bookings:[],loading:!0}),onShow(){this.loadBookings()},methods:{async loadBookings(){this.loading=!0;try{this.bookings=await p.getUserFoodBookings()}catch(t){console.error("Failed to load bookings:",t),e({title:"åŠ è½½å¤±è´¥",icon:"none"})}finally{this.loading=!1}},viewDetail(e){t({url:`/pages/food-healing/booking-detail?id=${e}`})},goToBooking(){t({url:"/pages/food-healing/cooking-booking"})},getStatusClass:e=>({pending:"status-pending",confirmed:"status-confirmed",cancelled:"status-cancelled",completed:"status-completed"}[e]||""),getStatusText:e=>({pending:"å¾…ç¡®è®¤",confirmed:"å·²ç¡®è®¤",cancelled:"å·²å–æ¶ˆ",completed:"å·²å®Œæˆ"}[e]||e),formatDate(e){if(!e)return"";const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}}},[["render",function(e,t,p,k,m,h){const b=f,x=o,S=u;return l(),a(x,{class:"booking-records-container"},{default:s((()=>[i(x,{class:"header"},{default:s((()=>[i(b,{class:"title"},{default:s((()=>[n("æˆ‘çš„é¢„çº¦")])),_:1})])),_:1}),m.loading?(l(),a(x,{key:0,class:"loading"},{default:s((()=>[i(b,null,{default:s((()=>[n("åŠ è½½ä¸­...")])),_:1})])),_:1})):m.bookings.length>0?(l(),a(x,{key:1,class:"records-list"},{default:s((()=>[(l(!0),c(r,null,d(m.bookings,(e=>(l(),a(x,{key:e.id,class:"record-card",onClick:t=>h.viewDetail(e.id)},{default:s((()=>[i(x,{class:"record-header"},{default:s((()=>[i(b,{class:"event-title"},{default:s((()=>[n(g(e.experienceTitle),1)])),_:2},1024),i(b,{class:_(["status",h.getStatusClass(e.status)])},{default:s((()=>[n(g(h.getStatusText(e.status)),1)])),_:2},1032,["class"])])),_:2},1024),i(x,{class:"record-info"},{default:s((()=>[i(x,{class:"info-row"},{default:s((()=>[i(b,{class:"info-icon"},{default:s((()=>[n("ðŸ“…")])),_:1}),i(b,{class:"info-text"},{default:s((()=>[n(g(e.experienceDate)+" "+g(e.experienceTime),1)])),_:2},1024)])),_:2},1024),i(x,{class:"info-row"},{default:s((()=>[i(b,{class:"info-icon"},{default:s((()=>[n("ðŸ“")])),_:1}),i(b,{class:"info-text"},{default:s((()=>[n(g(e.experienceLocation),1)])),_:2},1024)])),_:2},1024),i(x,{class:"info-row"},{default:s((()=>[i(b,{class:"info-icon"},{default:s((()=>[n("ðŸ‘¤")])),_:1}),i(b,{class:"info-text"},{default:s((()=>[n(g(e.formData.name)+" | "+g(e.formData.participants)+"äºº",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),i(x,{class:"record-footer"},{default:s((()=>[i(b,{class:"booking-time"},{default:s((()=>[n("é¢„çº¦æ—¶é—´ï¼š"+g(h.formatDate(e.createdAt)),1)])),_:2},1024),i(b,{class:"arrow"},{default:s((()=>[n("â€º")])),_:1})])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):(l(),a(x,{key:2,class:"empty-state"},{default:s((()=>[i(b,{class:"empty-icon"},{default:s((()=>[n("ðŸ“‹")])),_:1}),i(b,{class:"empty-text"},{default:s((()=>[n("æš‚æ— é¢„çº¦è®°å½•")])),_:1}),i(S,{class:"go-booking-btn",onClick:h.goToBooking},{default:s((()=>[n("åŽ»é¢„çº¦")])),_:1},8,["onClick"])])),_:1}))])),_:1})}],["__scopeId","data-v-18c9ea34"]]);export{m as default};

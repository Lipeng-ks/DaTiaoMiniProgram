import{s as a,n as t,c as s,w as e,i as o,o as l,a as n,e as i,b as r,r as d,F as c,h as u,u as f,t as g,j as _}from"./index-CUhQkSZ9.js";import{A as m}from"./aroma-booking.service.B2WQif2q.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./storage.service.Bt6PQ2bo.js";const k=p({data:()=>({bookings:[],loading:!0}),onShow(){this.loadBookings()},methods:{async loadBookings(){this.loading=!0;try{this.bookings=await m.getUserAromaBookings()}catch(t){console.error("Failed to load bookings:",t),a({title:"åŠ è½½å¤±è´¥",icon:"none"})}finally{this.loading=!1}},viewDetail(a){t({url:`/pages/aroma-healing/booking-detail?id=${a}`})},goToBooking(){t({url:"/pages/aroma-healing/salon-booking"})},getStatusClass:a=>({pending:"status-pending",confirmed:"status-confirmed",cancelled:"status-cancelled",completed:"status-completed"}[a]||""),getStatusText:a=>({pending:"å¾…ç¡®è®¤",confirmed:"å·²ç¡®è®¤",cancelled:"å·²å–æ¶ˆ",completed:"å·²å®Œæˆ"}[a]||a),formatDate(a){if(!a)return"";const t=new Date(a);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}}},[["render",function(a,t,m,p,k,h){const b=u,S=o,w=f;return l(),s(S,{class:"booking-records-container"},{default:e((()=>[n(S,{class:"header"},{default:e((()=>[n(b,{class:"title"},{default:e((()=>[i("æˆ‘çš„é¢„çº¦")])),_:1})])),_:1}),k.loading?(l(),s(S,{key:0,class:"loading"},{default:e((()=>[n(b,null,{default:e((()=>[i("åŠ è½½ä¸­...")])),_:1})])),_:1})):k.bookings.length>0?(l(),s(S,{key:1,class:"records-list"},{default:e((()=>[(l(!0),r(c,null,d(k.bookings,(a=>(l(),s(S,{key:a.id,class:"record-card",onClick:t=>h.viewDetail(a.id)},{default:e((()=>[n(S,{class:"record-header"},{default:e((()=>[n(b,{class:"event-title"},{default:e((()=>[i(g(a.salonTitle),1)])),_:2},1024),n(b,{class:_(["status",h.getStatusClass(a.status)])},{default:e((()=>[i(g(h.getStatusText(a.status)),1)])),_:2},1032,["class"])])),_:2},1024),n(S,{class:"record-info"},{default:e((()=>[n(S,{class:"info-row"},{default:e((()=>[n(b,{class:"info-icon"},{default:e((()=>[i("ðŸ“…")])),_:1}),n(b,{class:"info-text"},{default:e((()=>[i(g(a.salonDate)+" "+g(a.salonTime),1)])),_:2},1024)])),_:2},1024),n(S,{class:"info-row"},{default:e((()=>[n(b,{class:"info-icon"},{default:e((()=>[i("ðŸ“")])),_:1}),n(b,{class:"info-text"},{default:e((()=>[i(g(a.salonLocation),1)])),_:2},1024)])),_:2},1024),n(S,{class:"info-row"},{default:e((()=>[n(b,{class:"info-icon"},{default:e((()=>[i("ðŸ‘¤")])),_:1}),n(b,{class:"info-text"},{default:e((()=>[i(g(a.formData.name)+" | "+g(a.formData.participants)+"äºº",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),n(S,{class:"record-footer"},{default:e((()=>[n(b,{class:"booking-time"},{default:e((()=>[i("é¢„çº¦æ—¶é—´ï¼š"+g(h.formatDate(a.createdAt)),1)])),_:2},1024),n(b,{class:"arrow"},{default:e((()=>[i("â€º")])),_:1})])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):(l(),s(S,{key:2,class:"empty-state"},{default:e((()=>[n(b,{class:"empty-icon"},{default:e((()=>[i("ðŸ“‹")])),_:1}),n(b,{class:"empty-text"},{default:e((()=>[i("æš‚æ— é¢„çº¦è®°å½•")])),_:1}),n(w,{class:"go-booking-btn",onClick:h.goToBooking},{default:e((()=>[i("åŽ»é¢„çº¦")])),_:1},8,["onClick"])])),_:1}))])),_:1})}],["__scopeId","data-v-b1839868"]]);export{k as default};

import{s as t,n as a,c as e,w as s,i as o,o as l,a as i,b as n,e as r,r as d,F as c,f,q as u,t as g,h as _}from"./index-BDtgVNeI.js";import{A as p}from"./art-booking.service.BvrYlACJ.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./storage.service.D1zc2f4B.js";const m=k({data:()=>({bookings:[],loading:!0}),onShow(){this.loadBookings()},methods:{async loadBookings(){this.loading=!0;try{this.bookings=await p.getUserArtBookings()}catch(a){console.error("Failed to load bookings:",a),t({title:"åŠ è½½å¤±è´¥",icon:"none"})}finally{this.loading=!1}},viewDetail(t){a({url:`/pages/art-healing/booking-detail?id=${t}`})},goToBooking(){a({url:"/pages/art-healing/festival-booking"})},getStatusClass:t=>({pending:"status-pending",confirmed:"status-confirmed",cancelled:"status-cancelled",completed:"status-completed"}[t]||""),getStatusText:t=>({pending:"å¾…ç¡®è®¤",confirmed:"å·²ç¡®è®¤",cancelled:"å·²å–æ¶ˆ",completed:"å·²å®Œæˆ"}[t]||t),formatDate(t){if(!t)return"";const a=new Date(t);return`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")} ${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`}}},[["render",function(t,a,p,k,m,h){const b=f,S=o,v=u;return l(),e(S,{class:"booking-records-container"},{default:s((()=>[i(S,{class:"header"},{default:s((()=>[i(b,{class:"title"},{default:s((()=>[n("æˆ‘çš„é¢„çº¦")])),_:1})])),_:1}),m.loading?(l(),e(S,{key:0,class:"loading"},{default:s((()=>[i(b,null,{default:s((()=>[n("åŠ è½½ä¸­...")])),_:1})])),_:1})):m.bookings.length>0?(l(),e(S,{key:1,class:"records-list"},{default:s((()=>[(l(!0),r(c,null,d(m.bookings,(t=>(l(),e(S,{key:t.id,class:"record-card",onClick:a=>h.viewDetail(t.id)},{default:s((()=>[i(S,{class:"record-header"},{default:s((()=>[i(b,{class:"event-title"},{default:s((()=>[n(g(t.festivalTitle),1)])),_:2},1024),i(b,{class:_(["status",h.getStatusClass(t.status)])},{default:s((()=>[n(g(h.getStatusText(t.status)),1)])),_:2},1032,["class"])])),_:2},1024),i(S,{class:"record-info"},{default:s((()=>[i(S,{class:"info-row"},{default:s((()=>[i(b,{class:"info-icon"},{default:s((()=>[n("ðŸ“…")])),_:1}),i(b,{class:"info-text"},{default:s((()=>[n(g(t.festivalDate)+" "+g(t.festivalTime),1)])),_:2},1024)])),_:2},1024),i(S,{class:"info-row"},{default:s((()=>[i(b,{class:"info-icon"},{default:s((()=>[n("ðŸ“")])),_:1}),i(b,{class:"info-text"},{default:s((()=>[n(g(t.festivalLocation),1)])),_:2},1024)])),_:2},1024),i(S,{class:"info-row"},{default:s((()=>[i(b,{class:"info-icon"},{default:s((()=>[n("ðŸ‘¤")])),_:1}),i(b,{class:"info-text"},{default:s((()=>[n(g(t.formData.name)+" | "+g(t.formData.participants)+"äºº",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),i(S,{class:"record-footer"},{default:s((()=>[i(b,{class:"booking-time"},{default:s((()=>[n("é¢„çº¦æ—¶é—´ï¼š"+g(h.formatDate(t.createdAt)),1)])),_:2},1024),i(b,{class:"arrow"},{default:s((()=>[n("â€º")])),_:1})])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):(l(),e(S,{key:2,class:"empty-state"},{default:s((()=>[i(b,{class:"empty-icon"},{default:s((()=>[n("ðŸ“‹")])),_:1}),i(b,{class:"empty-text"},{default:s((()=>[n("æš‚æ— é¢„çº¦è®°å½•")])),_:1}),i(v,{class:"go-booking-btn",onClick:h.goToBooking},{default:s((()=>[n("åŽ»é¢„çº¦")])),_:1},8,["onClick"])])),_:1}))])),_:1})}],["__scopeId","data-v-37ce05b0"]]);export{m as default};

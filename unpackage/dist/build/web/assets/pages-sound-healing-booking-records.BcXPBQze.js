import{g as a,s as t,n as e,m as s,c as o,w as n,d as l,i,o as d,a as r,b as c,e as g,r as u,F as f,f as p,q as m,t as _,h as k}from"./index-BDtgVNeI.js";import{C as v}from"./CustomNavBar.DdiFadKl.js";import{B as h}from"./booking.service.D9FYCz8K.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./storage.service.D1zc2f4B.js";const S=b({components:{CustomNavBar:v},data:()=>({navPaddingTop:100,bookings:[],loading:!0}),onLoad(){const t=a();this.navPaddingTop=(t.statusBarHeight||20)+75},onShow(){this.loadBookings()},methods:{async loadBookings(){this.loading=!0;try{this.bookings=await h.getUserBookings()}catch(a){console.error("Failed to load bookings:",a),t({title:"åŠ è½½å¤±è´¥",icon:"none"})}finally{this.loading=!1}},viewDetail(a){e({url:`/pages/sound-healing/booking-detail?id=${a}`})},goToBooking(){e({url:"/pages/sound-healing/offline-booking"})},getStatusClass:a=>({pending:"status-pending",confirmed:"status-confirmed",cancelled:"status-cancelled",completed:"status-completed"}[a]||""),getStatusText:a=>({pending:"å¾…ç¡®è®¤",confirmed:"å·²ç¡®è®¤",cancelled:"å·²å–æ¶ˆ",completed:"å·²å®Œæˆ"}[a]||a),formatDate(a){if(!a)return"";const t=new Date(a);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}}},[["render",function(a,t,e,v,h,b){const S=s("custom-nav-bar"),y=p,w=i,x=m;return d(),o(w,{class:"booking-records-container",style:l({paddingTop:h.navPaddingTop+"px"})},{default:n((()=>[r(S,{title:"æˆ‘çš„é¢„çº¦",gradient:"linear-gradient(120deg, #1b5e20 0%, #2e7d32 45%, #43a047 100%)"}),h.loading?(d(),o(w,{key:0,class:"loading"},{default:n((()=>[r(y,null,{default:n((()=>[c("åŠ è½½ä¸­...")])),_:1})])),_:1})):h.bookings.length>0?(d(),o(w,{key:1,class:"records-list"},{default:n((()=>[(d(!0),g(f,null,u(h.bookings,(a=>(d(),o(w,{key:a.id,class:"record-card",onClick:t=>b.viewDetail(a.id)},{default:n((()=>[r(w,{class:"record-header"},{default:n((()=>[r(y,{class:"event-title"},{default:n((()=>[c(_(a.eventTitle),1)])),_:2},1024),r(y,{class:k(["status",b.getStatusClass(a.status)])},{default:n((()=>[c(_(b.getStatusText(a.status)),1)])),_:2},1032,["class"])])),_:2},1024),r(w,{class:"record-info"},{default:n((()=>[r(w,{class:"info-row"},{default:n((()=>[r(y,{class:"info-icon"},{default:n((()=>[c("ðŸ“…")])),_:1}),r(y,{class:"info-text"},{default:n((()=>[c(_(a.eventDate)+" "+_(a.eventTime),1)])),_:2},1024)])),_:2},1024),r(w,{class:"info-row"},{default:n((()=>[r(y,{class:"info-icon"},{default:n((()=>[c("ðŸ“")])),_:1}),r(y,{class:"info-text"},{default:n((()=>[c(_(a.eventLocation),1)])),_:2},1024)])),_:2},1024),r(w,{class:"info-row"},{default:n((()=>[r(y,{class:"info-icon"},{default:n((()=>[c("ðŸ‘¤")])),_:1}),r(y,{class:"info-text"},{default:n((()=>[c(_(a.formData.name)+" | "+_(a.formData.participants)+"äºº",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(w,{class:"record-footer"},{default:n((()=>[r(y,{class:"booking-time"},{default:n((()=>[c("é¢„çº¦æ—¶é—´ï¼š"+_(b.formatDate(a.createdAt)),1)])),_:2},1024),r(y,{class:"arrow"},{default:n((()=>[c("â€º")])),_:1})])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):(d(),o(w,{key:2,class:"empty-state"},{default:n((()=>[r(y,{class:"empty-icon"},{default:n((()=>[c("ðŸ“‹")])),_:1}),r(y,{class:"empty-text"},{default:n((()=>[c("æš‚æ— é¢„çº¦è®°å½•")])),_:1}),r(x,{class:"go-booking-btn",onClick:b.goToBooking},{default:n((()=>[c("åŽ»é¢„çº¦")])),_:1},8,["onClick"])])),_:1}))])),_:1},8,["style"])}],["__scopeId","data-v-90c8e78c"]]);export{S as default};

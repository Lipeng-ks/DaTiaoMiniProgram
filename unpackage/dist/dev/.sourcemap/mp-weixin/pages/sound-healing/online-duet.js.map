{"version":3,"file":"online-duet.js","sources":["pages/sound-healing/online-duet.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc291bmQtaGVhbGluZy9vbmxpbmUtZHVldC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"online-duet-container\" :style=\"{ paddingTop: navPaddingTop + 'px' }\">\r\n    <custom-nav-bar\r\n      title=\"线上山歌对唱\"\r\n      gradient=\"linear-gradient(120deg, #1b5e20 0%, #2e7d32 45%, #43a047 100%)\"\r\n    />\r\n    \r\n    <!-- 分类选择 -->\r\n    <view class=\"categories\">\r\n      <scroll-view scroll-x class=\"category-scroll\" :show-scrollbar=\"false\">\r\n        <view \r\n          v-for=\"category in categories\" \r\n          :key=\"category.id\"\r\n          class=\"category-item\"\r\n          :class=\"{ active: selectedCategory === category.id }\"\r\n          @click=\"selectCategory(category.id)\"\r\n        >\r\n          <text>{{ category.name }}</text>\r\n        </view>\r\n      </scroll-view>\r\n    </view>\r\n    \r\n    <!-- 歌曲列表 -->\r\n    <view class=\"song-list\">\r\n      <view \r\n        v-for=\"song in filteredSongs\" \r\n        :key=\"song.id\"\r\n        class=\"song-item\"\r\n        :class=\"{ selected: selectedSong && selectedSong.id === song.id }\"\r\n        @click=\"selectSong(song)\"\r\n      >\r\n        <image :src=\"song.coverImage\" class=\"song-cover\" mode=\"aspectFill\"></image>\r\n        <view class=\"song-info\">\r\n          <text class=\"song-title\">{{ song.title }}</text>\r\n          <text class=\"song-artist\">{{ song.artist }}</text>\r\n        </view>\r\n        <text class=\"song-duration\">{{ formatDuration(song.duration) }}</text>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 播放控制和录音面板 -->\r\n    <view class=\"control-panel\" v-if=\"selectedSong\">\r\n      <view class=\"now-playing\">\r\n        <text class=\"playing-title\">{{ selectedSong.title }}</text>\r\n        <view class=\"play-controls\">\r\n          <button class=\"control-btn\" @click=\"togglePlay\">\r\n            {{ isPlaying ? '⏸' : '▶' }}\r\n          </button>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 歌词显示区域 -->\r\n      <view class=\"lyrics-area\" v-if=\"selectedSong.lyrics && selectedSong.lyrics.length\">\r\n        <view class=\"progress-bar\">\r\n          <view class=\"progress-fill\" :style=\"{ width: playProgress + '%' }\"></view>\r\n        </view>\r\n        <text class=\"current-lyric\">{{ currentLyric || '♪ 准备播放 ♪' }}</text>\r\n        <text class=\"play-time\">{{ formatDuration(Math.floor(currentPlayTime)) }} / {{ formatDuration(selectedSong.duration) }}</text>\r\n      </view>\r\n      \r\n      <!-- 录音控制 -->\r\n      <view class=\"record-panel\">\r\n        <view class=\"record-status\" v-if=\"isRecording\">\r\n          <text class=\"recording-indicator\">● 录音中</text>\r\n          <text class=\"recording-duration\">{{ formatDuration(recordingDuration) }}</text>\r\n        </view>\r\n        \r\n        <view class=\"record-buttons\">\r\n          <button \r\n            class=\"record-btn\" \r\n            :class=\"{ recording: isRecording }\"\r\n            @click=\"toggleRecording\"\r\n          >\r\n            {{ isRecording ? '停止录音' : '开始录音' }}\r\n          </button>\r\n          \r\n          <button \r\n            v-if=\"recordingPath\" \r\n            class=\"preview-btn\"\r\n            @click=\"previewRecording\"\r\n          >\r\n            预览录音\r\n          </button>\r\n          \r\n          <button \r\n            v-if=\"recordingPath\" \r\n            class=\"rerecord-btn\"\r\n            @click=\"reRecord\"\r\n          >\r\n            重录\r\n          </button>\r\n          \r\n          <button \r\n            v-if=\"recordingPath\" \r\n            class=\"submit-btn\"\r\n            @click=\"submitRecording\"\r\n          >\r\n            提交作品\r\n          </button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 未选择歌曲提示 -->\r\n    <view class=\"empty-tip\" v-else>\r\n      <text>请选择一首歌曲开始对唱</text>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport CustomNavBar from '@/components/CustomNavBar.vue'\r\nimport AudioService from '@/services/audio.service.js'\r\nimport { categories, sampleSongs, filterSongsByCategory, validateRecordingSubmission } from '@/services/song.service.js'\r\n\r\nexport default {\r\n  components: { CustomNavBar },\r\n  data() {\r\n    return {\r\n      statusBarHeight: 20,\r\n      navPaddingTop: 140,\r\n      categories: categories,\r\n      selectedCategory: 'love',\r\n      songs: sampleSongs,\r\n      selectedSong: null,\r\n      isPlaying: false,\r\n      isRecording: false,\r\n      recordingPath: '',\r\n      recordingDuration: 0,\r\n      currentLyric: '',\r\n      currentLyricIndex: -1,\r\n      recordingTimer: null,\r\n      currentPlayTime: 0\r\n    }\r\n  },\r\n  computed: {\r\n    filteredSongs() {\r\n      return filterSongsByCategory(this.songs, this.selectedCategory)\r\n    },\r\n    playProgress() {\r\n      if (!this.selectedSong || !this.selectedSong.duration) return 0\r\n      return (this.currentPlayTime / this.selectedSong.duration) * 100\r\n    }\r\n  },\r\n  onLoad() {\r\n    const info = uni.getSystemInfoSync()\r\n    const sbh = info.statusBarHeight || 20\r\n    this.statusBarHeight = sbh\r\n    // 导航栏高度: 状态栏 + 96rpx内容 + 12rpx底部padding + 14rpx底部内边距 ≈ 状态栏 + 75px\r\n    this.navPaddingTop = sbh + 75\r\n    this.setupAudioListeners()\r\n  },\r\n  onUnload() {\r\n    this.cleanup()\r\n  },\r\n  methods: {\r\n    selectCategory(categoryId) {\r\n      this.selectedCategory = categoryId\r\n      // Reset selected song when category changes\r\n      this.selectedSong = null\r\n      this.isPlaying = false\r\n      this.currentLyric = ''\r\n    },\r\n    selectSong(song) {\r\n      // Stop current playback if any\r\n      if (this.isPlaying) {\r\n        AudioService.stop()\r\n      }\r\n      this.selectedSong = song\r\n      this.isPlaying = false\r\n      this.recordingPath = ''\r\n      this.recordingDuration = 0\r\n      this.currentLyric = ''\r\n      this.currentLyricIndex = -1\r\n      this.currentPlayTime = 0\r\n    },\r\n    setupAudioListeners() {\r\n      AudioService.onAudioEvent('timeUpdate', () => {\r\n        this.updateLyric()\r\n      })\r\n      \r\n      AudioService.onAudioEvent('ended', () => {\r\n        this.isPlaying = false\r\n        this.currentLyric = ''\r\n        this.currentLyricIndex = -1\r\n      })\r\n      \r\n      AudioService.onAudioEvent('error', (err) => {\r\n        console.error('Audio playback error:', err)\r\n        this.isPlaying = false\r\n        uni.showToast({\r\n          title: '音频加载失败，请重试',\r\n          icon: 'none'\r\n        })\r\n      })\r\n    },\r\n    togglePlay() {\r\n      if (!this.selectedSong) return\r\n      \r\n      if (this.isPlaying) {\r\n        AudioService.pause()\r\n        this.isPlaying = false\r\n      } else {\r\n        AudioService.playBgm(this.selectedSong.bgmUrl)\r\n        this.isPlaying = true\r\n      }\r\n    },\r\n    updateLyric() {\r\n      if (!this.selectedSong || !this.selectedSong.lyrics) return\r\n      \r\n      const currentTime = AudioService.getCurrentTime() * 1000 // Convert to ms\r\n      this.currentPlayTime = AudioService.getCurrentTime() // Update play time in seconds\r\n      const lyrics = this.selectedSong.lyrics\r\n      \r\n      // Find the current lyric based on time\r\n      for (let i = lyrics.length - 1; i >= 0; i--) {\r\n        if (currentTime >= lyrics[i].time) {\r\n          if (this.currentLyricIndex !== i) {\r\n            this.currentLyricIndex = i\r\n            this.currentLyric = lyrics[i].text\r\n          }\r\n          break\r\n        }\r\n      }\r\n    },\r\n    async toggleRecording() {\r\n      if (this.isRecording) {\r\n        await this.stopRecordingHandler()\r\n      } else {\r\n        await this.startRecordingHandler()\r\n      }\r\n    },\r\n    async startRecordingHandler() {\r\n      try {\r\n        await AudioService.startRecord()\r\n        this.isRecording = true\r\n        this.recordingDuration = 0\r\n        this.recordingPath = ''\r\n        \r\n        // Start duration timer\r\n        this.recordingTimer = setInterval(() => {\r\n          this.recordingDuration++\r\n        }, 1000)\r\n      } catch (err) {\r\n        console.error('Failed to start recording:', err)\r\n        uni.showToast({\r\n          title: '录音启动失败，请检查麦克风权限',\r\n          icon: 'none'\r\n        })\r\n      }\r\n    },\r\n    async stopRecordingHandler() {\r\n      try {\r\n        // Clear timer\r\n        if (this.recordingTimer) {\r\n          clearInterval(this.recordingTimer)\r\n          this.recordingTimer = null\r\n        }\r\n        \r\n        const result = await AudioService.stopRecord()\r\n        this.isRecording = false\r\n        this.recordingPath = result.tempFilePath\r\n        this.recordingDuration = result.duration\r\n        \r\n        uni.showToast({\r\n          title: '录音完成',\r\n          icon: 'success'\r\n        })\r\n      } catch (err) {\r\n        console.error('Failed to stop recording:', err)\r\n        this.isRecording = false\r\n        uni.showToast({\r\n          title: '录音保存失败',\r\n          icon: 'none'\r\n        })\r\n      }\r\n    },\r\n    previewRecording() {\r\n      if (!this.recordingPath) {\r\n        uni.showToast({\r\n          title: '没有可预览的录音',\r\n          icon: 'none'\r\n        })\r\n        return\r\n      }\r\n      AudioService.playRecord(this.recordingPath)\r\n    },\r\n    reRecord() {\r\n      this.recordingPath = ''\r\n      this.recordingDuration = 0\r\n    },\r\n    submitRecording() {\r\n      // Use validation function from song service\r\n      const validation = validateRecordingSubmission(this.selectedSong, this.recordingPath)\r\n      \r\n      if (!validation.valid) {\r\n        uni.showToast({\r\n          title: validation.message,\r\n          icon: 'none'\r\n        })\r\n        return { success: false, message: validation.message }\r\n      }\r\n      \r\n      // Submit success\r\n      uni.showToast({\r\n        title: '提交成功',\r\n        icon: 'success'\r\n      })\r\n      \r\n      // Reset recording state\r\n      this.recordingPath = ''\r\n      this.recordingDuration = 0\r\n      \r\n      return { success: true, message: '提交成功' }\r\n    },\r\n    formatDuration(seconds) {\r\n      const mins = Math.floor(seconds / 60)\r\n      const secs = seconds % 60\r\n      return `${mins}:${secs.toString().padStart(2, '0')}`\r\n    },\r\n    cleanup() {\r\n      if (this.recordingTimer) {\r\n        clearInterval(this.recordingTimer)\r\n        this.recordingTimer = null\r\n      }\r\n      AudioService.stop()\r\n      AudioService.destroy()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.online-duet-container {\r\n  min-height: 100vh;\r\n  background: #f5f5f5;\r\n}\r\n\r\n.header {\r\n  background: linear-gradient(135deg, #1b5e20 0%, #2e7d32 60%, #4caf50 100%);\r\n  padding: 48rpx 40rpx;\r\n  text-align: center;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.header::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: -50%;\r\n  right: -20%;\r\n  width: 200rpx;\r\n  height: 200rpx;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border-radius: 50%;\r\n}\r\n\r\n.header::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: -30%;\r\n  left: -10%;\r\n  width: 150rpx;\r\n  height: 150rpx;\r\n  background: rgba(255, 255, 255, 0.08);\r\n  border-radius: 50%;\r\n}\r\n\r\n.title {\r\n  font-size: 38rpx;\r\n  font-weight: 700;\r\n  color: #ffffff;\r\n  position: relative;\r\n  z-index: 1;\r\n  letter-spacing: 2rpx;\r\n}\r\n\r\n.categories {\r\n  background: #ffffff;\r\n  padding: 20rpx 0;\r\n}\r\n\r\n.category-scroll {\r\n  white-space: nowrap;\r\n  padding: 0 20rpx;\r\n}\r\n\r\n.category-item {\r\n  display: inline-block;\r\n  padding: 16rpx 32rpx;\r\n  margin-right: 20rpx;\r\n  border-radius: 30rpx;\r\n  background: #f0f0f0;\r\n  font-size: 28rpx;\r\n  color: #666;\r\n}\r\n\r\n.category-item.active {\r\n  background: #2e7d32;\r\n  color: #ffffff;\r\n}\r\n\r\n.song-list {\r\n  padding: 20rpx;\r\n}\r\n\r\n.song-item {\r\n  display: flex;\r\n  align-items: center;\r\n  background: #ffffff;\r\n  border-radius: 16rpx;\r\n  padding: 20rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.song-item.selected {\r\n  border: 2rpx solid #2e7d32;\r\n}\r\n\r\n.song-cover {\r\n  width: 100rpx;\r\n  height: 100rpx;\r\n  border-radius: 12rpx;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.song-info {\r\n  flex: 1;\r\n}\r\n\r\n.song-title {\r\n  display: block;\r\n  font-size: 30rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.song-artist {\r\n  display: block;\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.song-duration {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.control-panel {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: #ffffff;\r\n  border-radius: 30rpx 30rpx 0 0;\r\n  box-shadow: 0 -4rpx 20rpx rgba(0, 0, 0, 0.1);\r\n  padding: 30rpx;\r\n}\r\n\r\n.now-playing {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.playing-title {\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.control-btn {\r\n  width: 80rpx;\r\n  height: 80rpx;\r\n  border-radius: 50%;\r\n  background: #2e7d32;\r\n  color: #ffffff;\r\n  font-size: 32rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.lyrics-area {\r\n  background: #f5f5f5;\r\n  border-radius: 16rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 20rpx;\r\n  text-align: center;\r\n}\r\n\r\n.progress-bar {\r\n  width: 100%;\r\n  height: 8rpx;\r\n  background: #e0e0e0;\r\n  border-radius: 4rpx;\r\n  margin-bottom: 20rpx;\r\n  overflow: hidden;\r\n}\r\n\r\n.progress-fill {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #2e7d32, #4caf50);\r\n  border-radius: 4rpx;\r\n  transition: width 0.3s ease;\r\n}\r\n\r\n.current-lyric {\r\n  font-size: 32rpx;\r\n  color: #2e7d32;\r\n  display: block;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.play-time {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.record-panel {\r\n  padding-top: 20rpx;\r\n  border-top: 1rpx solid #eee;\r\n}\r\n\r\n.record-status {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.recording-indicator {\r\n  color: #f44336;\r\n  font-size: 28rpx;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.recording-duration {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n}\r\n\r\n.record-buttons {\r\n  display: flex;\r\n  gap: 20rpx;\r\n}\r\n\r\n.record-btn {\r\n  flex: 1;\r\n  background: #2e7d32;\r\n  color: #ffffff;\r\n  border-radius: 40rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.record-btn.recording {\r\n  background: #f44336;\r\n}\r\n\r\n.preview-btn, .submit-btn, .rerecord-btn {\r\n  flex: 1;\r\n  border-radius: 40rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.preview-btn {\r\n  background: #ff9800;\r\n  color: #ffffff;\r\n}\r\n\r\n.rerecord-btn {\r\n  background: #9e9e9e;\r\n  color: #ffffff;\r\n}\r\n\r\n.submit-btn {\r\n  background: #4caf50;\r\n  color: #ffffff;\r\n}\r\n\r\n.empty-tip {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: #ffffff;\r\n  padding: 40rpx;\r\n  text-align: center;\r\n  color: #999;\r\n  font-size: 28rpx;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/project/大挑小程序/大挑小程序/pages/sound-healing/online-duet.vue'\nwx.createPage(MiniProgramPage)"],"names":["categories","sampleSongs","filterSongsByCategory","uni","AudioService","validateRecordingSubmission"],"mappings":"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"}